<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muhammad Dauood - Personal Portfolio</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <h1>MD</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="gallery.html">Film Gallery</a></li>
                <li><a href="about.html">About</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h2 class="hero-title">Muhammad Dauood</h2>
            <p class="hero-subtitle">Cyber Security Graduate</p>
            <p class="hero-description">
                Recently graduated with a degree in Cyber Security, Looking for an entry-level position to kickstart my career in the field.
            </p>
            <div class="button-group">
                <a href="/CV - Muhammad Dauood.docx" class="download-button">Download CV</a>
                <a href="projects.html" class="cta-button">View Projects</a>
                <button class="contact-button" onclick="scrollToContact()">Contact Me</button>
            </div>
        </div>
        <div class="hero-image">
            <img src="images/images/Mountain.jpg" alt="Featured Photography Work" />
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="contact-container">
            <h2 class="contact-title">Get In Touch</h2>
            <p class="contact-subtitle">
                I'm always interested in new opportunities and collaborations. Feel free to reach out.
            </p>
            
            <form class="contact-form" id="contactForm">
                <div class="form-message" id="formMessage"></div>
                
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" name="name" required>
                    <div class="form-error" id="nameError"></div>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required>
                    <div class="form-error" id="emailError"></div>
                </div>
                
                <div class="form-group">
                    <label for="message">Message</label>
                    <textarea id="message" name="message" placeholder="Enter Message..." required></textarea>
                    <div class="form-error" id="messageError"></div>
                </div>
                
                <button type="submit" class="submit-button" id="submitButton">
                    Send Message
                </button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-section">
            <div class="social-links">
                <a href="https://www.linkedin.com/in/mdauood/" aria-label="LinkedIn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                </a>
            </div>
            <div class="footer-bottom">
                <p>&copy; Muhammad Dauood. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');

        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Show scrollbar when scrolling
        let scrollTimer = null;
        window.addEventListener('scroll', () => {
            document.documentElement.classList.add('scrolling');
            
            if (scrollTimer !== null) {
                clearTimeout(scrollTimer);
            }
            
            scrollTimer = setTimeout(() => {
                document.documentElement.classList.remove('scrolling');
            }, 1000);
        });

        // Scroll to contact section
        function scrollToContact() {
            document.getElementById('contact').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        // Form validation and submission
        const contactForm = document.getElementById('contactForm');
        const formMessage = document.getElementById('formMessage');
        const submitButton = document.getElementById('submitButton');

        // Valid email domains for security
        const validEmailDomains = [
            'gmail.com', 'googlemail.com', 'yahoo.com', 'yahoo.co.uk', 'hotmail.com', 
            'hotmail.co.uk', 'outlook.com', 'live.com', 'msn.com', 'aol.com', 
            'icloud.com', 'me.com', 'mac.com', 'protonmail.com', 'tutanota.com'
        ];

        function validateName(name) {
            const nameRegex = /^[a-zA-Z\s]{2,50}$/;
            return nameRegex.test(name.trim());
        }

        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) return false;
            
            const domain = email.split('@')[1].toLowerCase();
            return validEmailDomains.includes(domain);
        }

        function validateMessage(message) {
            return message.trim().length >= 10 && message.trim().length <= 1000;
        }

        function showError(fieldId, message) {
            const field = document.getElementById(fieldId);
            const errorElement = document.getElementById(fieldId + 'Error');
            const formGroup = field.parentElement;
            
            formGroup.classList.remove('success');
            formGroup.classList.add('error');
            errorElement.textContent = message;
        }

        function showSuccess(fieldId) {
            const field = document.getElementById(fieldId);
            const formGroup = field.parentElement;
            
            formGroup.classList.remove('error');
            formGroup.classList.add('success');
        }

        function clearValidation(fieldId) {
            const field = document.getElementById(fieldId);
            const formGroup = field.parentElement;
            
            formGroup.classList.remove('error', 'success');
        }

        function showFormMessage(message, type) {
            formMessage.textContent = message;
            formMessage.className = `form-message ${type}`;
            formMessage.style.display = 'block';
            
            // Scroll message into view
            formMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function hideFormMessage() {
            formMessage.style.display = 'none';
        }

        // Real-time validation
        document.getElementById('name').addEventListener('blur', function() {
            const name = this.value;
            if (!name.trim()) {
                showError('name', 'Please enter your full name');
            } else if (!validateName(name)) {
                showError('name', 'Name should only contain letters and spaces (2-50 characters)');
            } else {
                showSuccess('name');
            }
        });

        document.getElementById('email').addEventListener('blur', function() {
            const email = this.value;
            if (!email.trim()) {
                showError('email', 'Please enter your email address');
            } else if (!validateEmail(email)) {
                showError('email', 'Please enter a valid email from a recognized provider (Gmail, Outlook, Yahoo, etc.)');
            } else {
                showSuccess('email');
            }
        });

        document.getElementById('message').addEventListener('blur', function() {
            const message = this.value;
            if (!message.trim()) {
                showError('message', 'Please enter your message');
            } else if (!validateMessage(message)) {
                showError('message', 'Message should be between 10 and 1000 characters');
            } else {
                showSuccess('message');
            }
        });

        // Clear validation on focus
        ['name', 'email', 'message'].forEach(fieldId => {
            document.getElementById(fieldId).addEventListener('focus', function() {
                clearValidation(fieldId);
                hideFormMessage();
            });
        });

        // Form submission
        contactForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            
            let isValid = true;
            
            // Validate all fields
            if (!name.trim()) {
                showError('name', 'Please enter your full name');
                isValid = false;
            } else if (!validateName(name)) {
                showError('name', 'Name should only contain letters and spaces (2-50 characters)');
                isValid = false;
            } else {
                showSuccess('name');
            }
            
            if (!email.trim()) {
                showError('email', 'Please enter your email address');
                isValid = false;
            } else if (!validateEmail(email)) {
                showError('email', 'Please enter a valid email from a recognized provider (Gmail, Outlook, Yahoo, etc.)');
                isValid = false;
            } else {
                showSuccess('email');
            }
            
            if (!message.trim()) {
                showError('message', 'Please enter your message');
                isValid = false;
            } else if (!validateMessage(message)) {
                showError('message', 'Message should be between 10 and 1000 characters');
                isValid = false;
            } else {
                showSuccess('message');
            }
            
            if (isValid) {
                // Disable submit button and show loading state
                submitButton.disabled = true;
                submitButton.textContent = 'Sending...';
                
                try {
                    // Create form data
                    const formData = new FormData();
                    formData.append('name', name);
                    formData.append('email', email);
                    formData.append('message', message);
                    
                    // Submit to Formspree with proper headers
                    const response = await fetch('https://formspree.io/f/xqadyrov', {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });
                    
                    const result = await response.json();
                    
                    if (response.ok) {
                        showFormMessage('Thank you for your message! I\'ll get back to you as soon as possible.', 'success');
                        contactForm.reset();
                        
                        // Clear all validation states
                        ['name', 'email', 'message'].forEach(fieldId => {
                            clearValidation(fieldId);
                        });
                    } else {
                        console.error('Formspree error:', result);
                        showFormMessage('Sorry, there was an error sending your message. Please try again later.', 'error');
                    }
                } catch (error) {
                    console.error('Network error:', error);
                    showFormMessage('Sorry, there was a network error. Please check your connection and try again.', 'error');
                }
                
                // Re-enable submit button
                submitButton.disabled = false;
                submitButton.textContent = 'Send Message';
            } else {
                showFormMessage('Please fix the errors above before submitting.', 'error');
            }
        });
    </script>
</body>
</html>